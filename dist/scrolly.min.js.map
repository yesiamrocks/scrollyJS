{"version":3,"file":"scrolly.min.js","sources":["../src/scrolly.js"],"sourcesContent":["/**\r\n * scrolly.js\r\n * Current Version: 1.0.1\r\n * http://www.scrollyjs.com\r\n * Github: https://github.com/yesiamrocks/scrolly.js\r\n * Copyright (c) 2017 Pavel\r\n * License: scrolly.js is licensed under the MIT license\r\n **/\r\n\r\n(function() {\r\n\r\n    var OSName = \"Unknown\";\r\n    if (window.navigator.userAgent.indexOf(\"Windows\") != -1) OSName = \"Windows\";\r\n    else if (window.navigator.userAgent.indexOf(\"Mac\") != -1) OSName = \"Mac\";\r\n    //else if (window.navigator.userAgent.indexOf(\"X11\")            != -1) OSName=\"UNIX\";\r\n    //else if (window.navigator.userAgent.indexOf(\"Linux\")          != -1) OSName=\"Linux\";\r\n\r\n    // checking browser is Internet Explore\r\n    var isIE = !!navigator.userAgent.match(/Trident/g) || !!navigator.userAgent.match(/MSIE/g);\r\n    // define global variable\r\n    var currentElm = '';\r\n    var lastScrollTop = 0;\r\n    var topToBottom = true;\r\n    var animationTagMap = {};\r\n    var animationClassMap = {};\r\n    var animationInStyleMap = {};\r\n    var animationOutStyleMap = {};\r\n    var tagStyleMap = {};\r\n    var characterAnimateInClassMap = {};\r\n    var characterAnimateOutClassMap = {};\r\n    var hiddenCss = 'visibility: hidden;';\r\n    var characterCss = 'animation-fill-mode: both;';\r\n    var displayCss = ' -webkit-animation-fill-mode: both; visibility: visible;';\r\n    var defaultClickCss = ' visibility: visible; -webkit-animation-duration: 1s; display:block;-webkit-animation-fill-mode: both; ';\r\n\r\n    var settingOptions = {\r\n        selectorClass: 'scrolly',\r\n        dataClickElm: 'data-scrolly-click',\r\n        dataMouseoverElm: 'data-scrolly-mouseover',\r\n        dataMouseoutElm: 'data-scrolly-mouseout',\r\n        dataSelectorIn: 'data-scrolly-top',\r\n        dataSelectorOut: 'data-scrolly-down',\r\n        dataScrollyInDelay: 'data-scrolly-top-delay',\r\n        dataScrollyOutDelay: 'data-scrolly-down-delay',\r\n        dataScrollyOffsetTop: 'data-scrolly-offset-top',\r\n        dataScrollyOffsetBottom: 'data-scrolly-offset-bottom',\r\n        dataCharacterAnimate: 'data-scrolly-characters',\r\n        dataScrollyIndex: 'data-scrolly-index',\r\n\r\n        // Scrolly target event settings\r\n        dataScrollyTargetClick: 'data-scrolly-target-click',\r\n        dataScrollyTargetMouseOver: 'data-scrolly-target-mouseover',\r\n        dataScrollyTargetMouseOut: 'data-scrolly-target-mouseout',\r\n        dataScrollySelector: 'data-scrolly-selector',\r\n        dataScrollyAnimation: 'data-scrolly-animation',\r\n\r\n        /****** settingOptins for resize view screen  ******/\r\n\r\n        scrollyOffsetTop: 0, //Setting Default Offset Top Value\r\n        scrollyOffsetBottom: 0, //Setting Default Offset Bottom Value\r\n\r\n        /****** settingOptins for resize view screen depend on OS  ******/\r\n        scrollyMacOffsetTop: 0, //Setting Offset Top Value for MAC\r\n        scrollyMacOffsetBottom: 0, //Setting Offset Bottom Value for MAC\r\n        scrollyWindowsOffsetTop: 0, //Setting Offset Top Value for Windows\r\n        scrollyWindowsOffsetBottom: 0, //Setting Offset Bottom Value for Windows\r\n\r\n        scrollyTabOffsetTop: 0, //Setting Offset Top Value for Tab\r\n        scrollyTabOffsetBottom: 0, //Setting Offset Bottom Value for Tab\r\n\r\n        scrollyMobileOffsetTop: 0, //Setting Offset Top Value for Mobile\r\n        scrollyMobileOffsetBottom: 0, //Setting Offset Bottom Value for Mobile\r\n\r\n        scrollyDisable: false, //There are several options that you can use to disable scrolly on certains devices.\r\n        scrollyAnimationCssRemove: false, // scrolly animation css remove from html tag if its true\r\n\r\n        /****** default screen resulation work across multiple devices  ******/\r\n        scrollyScreen: {\r\n            mobile: {\r\n                minWidth: 0,\r\n                maxWidth: 767\r\n            },\r\n            tab: {\r\n                minWidth: 768,\r\n                maxWidth: 991\r\n            },\r\n            desktop: {\r\n                minWidth: 992,\r\n                maxWidth: 1200\r\n            },\r\n            lgDesktop: {\r\n                minWidth: 1201,\r\n                maxWidth: 10000\r\n            }\r\n        },\r\n\r\n        scrollyStopIt: {\r\n            mobile: false,\r\n            tab: false,\r\n            desktop: false,\r\n            lgDesktop: false\r\n        }\r\n    };\r\n\r\n    this.isInView = function(box) {\r\n        var bottom, top, viewBottom, viewTop;\r\n        viewTop = window.pageYOffset;\r\n        viewBottom = viewTop + window.innerHeight;\r\n        top = this.offsetTop(box);\r\n        bottom = top + box.clientHeight;\r\n\r\n        // dataScrollyOffsetTop using for indivisual offset from Top\r\n        var attrDataScrollyOffsetTop = box.getAttribute(settingOptions.dataScrollyOffsetTop);\r\n        if (attrDataScrollyOffsetTop) {\r\n            viewTop += parseInt(attrDataScrollyOffsetTop);\r\n        } else if (parseInt(settingOptions.scrollyOffsetTop)) { // Setting Default Offset Top Value\r\n            viewTop += parseInt(settingOptions.scrollyOffsetTop);\r\n        }\r\n\r\n        // dataScrollyOffsetBottom using for indivisual offset from Bottom\r\n        var attrDataScrollyOffsetBottom = box.getAttribute(settingOptions.dataScrollyOffsetBottom);\r\n\r\n        if (attrDataScrollyOffsetBottom) {\r\n            viewBottom -= parseInt(attrDataScrollyOffsetBottom);\r\n        } else if (parseInt(settingOptions.scrollyOffsetBottom)) { // Setting Default Offset Top Value\r\n            viewBottom -= parseInt(settingOptions.scrollyOffsetBottom);\r\n        }\r\n\r\n        return top <= viewBottom && bottom >= viewTop;\r\n    };\r\n\r\n    if (isIE) {\r\n        defaultClickCss = 'visibility: visible; animation-duration: 1s;';\r\n    }\r\n\r\n    // Make Style which is written in data-attribute\r\n    this.makeStyle = function(data, direction) {\r\n        var animationCss = '';\r\n        if ((data !== null) && (data !== '')) {\r\n            var splitData = data.trim().split(\",\");\r\n\r\n            animationCss = displayCss;\r\n\r\n            if (isIE) {\r\n                animationCss += ' animation-duration: 1s; ';\r\n            } else {\r\n                animationCss += ' -webkit-animation-duration: 1s; ';\r\n            }\r\n\r\n            for (var i = 0; i < splitData.length; i++) {\r\n                var splitDataValue = splitData[i].trim();\r\n                var splitDataValueSplit = splitDataValue.split(\":\");\r\n\r\n                if (splitDataValueSplit.length === 2) {\r\n                    var cssProperty = 'animation-' + (splitDataValueSplit[0]).trim();\r\n                    var cssValue = (splitDataValueSplit[1]).trim();\r\n                } else {\r\n                    var cssProperty = \"animation-name\";\r\n                    var cssValue = splitDataValue;\r\n                }\r\n\r\n                if (isIE) {\r\n                    animationCss += cssProperty + ':' + cssValue + '; ';\r\n                } else {\r\n                    if (cssProperty == 'animation-delay') {\r\n\r\n                        animationCss += hiddenCss;\r\n                        if (direction === 'topToBottom') {\r\n                            currentElm.setAttribute(settingOptions.dataScrollyInDelay, cssValue);\r\n                        } else if (direction === 'bottomToTop') {\r\n                            currentElm.setAttribute(settingOptions.dataScrollyOutDelay, cssValue);\r\n                        }\r\n\r\n                    } else {\r\n                        animationCss += ' -webkit-' + cssProperty.trim() + ':' + cssValue + '; ';\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return animationCss;\r\n    };\r\n\r\n    // checking element is in active window\r\n    this.isHidden = function(elm) {\r\n        if ((elm.getAttribute(\"style\") !== null) && (elm.getAttribute(\"style\").trim() == hiddenCss.trim())) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n\r\n\r\n    // checking element is in active window when scrolling\r\n    this.animationStart = function() {\r\n        if (settingOptions.scrollyDisable === true) {\r\n            return 0;\r\n        }\r\n        if (sCount) {\r\n\r\n            var currentScrollTop = window.pageYOffset || document.documentElement.scrollTop;\r\n            if (currentScrollTop >= lastScrollTop) {\r\n                topToBottom = true;\r\n            } else {\r\n                topToBottom = false;\r\n            }\r\n            lastScrollTop = currentScrollTop;\r\n\r\n            for (var i = 0; i < sCount; i++) {\r\n                var inView = this.isInView(selector[i]);\r\n                if (inView) {\r\n                    this.showElement(i);\r\n                } else {\r\n                    this.clearStyle(i);\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    this.hasClass = function(element, cls) {\r\n        return (' ' + element.className + ' ').indexOf(' ' + cls + ' ') > -1;\r\n    };\r\n\r\n\r\n    var selector = {},\r\n        sCount = 0;\r\n    var screenWidth = screen.width;\r\n\r\n    // checkScreenForAnimation for checking for screen resulation\r\n    this.checkScreenForAnimation = function() {\r\n        if ((settingOptions.scrollyStopIt.mobile) && ((screenWidth >= parseInt(settingOptions.scrollyScreen.mobile.minWidth)) && (screenWidth <= parseInt(settingOptions.scrollyScreen.mobile.maxWidth)))) {\r\n            settingOptions.scrollyDisable = true;\r\n            this.resetWindow();\r\n        } else if ((settingOptions.scrollyStopIt.tab) && ((screenWidth >= parseInt(settingOptions.scrollyScreen.tab.minWidth)) && (screenWidth <= parseInt(settingOptions.scrollyScreen.tab.maxWidth)))) {\r\n            settingOptions.scrollyDisable = true;\r\n            this.resetWindow();\r\n        } else if ((settingOptions.scrollyStopIt.desktop) && ((screenWidth >= parseInt(settingOptions.scrollyScreen.desktop.minWidth)) && (screenWidth <= parseInt(settingOptions.scrollyScreen.desktop.maxWidth)))) {\r\n            settingOptions.scrollyDisable = true;\r\n            this.resetWindow();\r\n        } else if ((settingOptions.scrollyStopIt.lgDesktop) && ((screenWidth >= parseInt(settingOptions.scrollyScreen.lgDesktop.minWidth)) && (screenWidth <= parseInt(settingOptions.scrollyScreen.lgDesktop.maxWidth)))) {\r\n            settingOptions.scrollyDisable = true;\r\n            this.resetWindow();\r\n        } else {\r\n            settingOptions.scrollyDisable = false;\r\n        }\r\n    };\r\n\r\n    this.initOptions = function(custom, defaults) {\r\n        var key, value;\r\n        for (key in defaults) {\r\n            value = defaults[key];\r\n            if (custom[key] == null) {\r\n                custom[key] = value;\r\n            }\r\n        }\r\n        return custom;\r\n    };\r\n\r\n\r\n    // Initialize css animation tag and map all event and css style\r\n    this.scrolly = function(options) {\r\n\r\n        if (options) {\r\n            settingOptions = this.initOptions(options, settingOptions);\r\n        }\r\n\r\n        if (settingOptions.scrollyDisable === true) {\r\n            return 0;\r\n        }\r\n\r\n        // scrollyScreen\r\n        if (settingOptions.scrollyStopIt) {\r\n            this.checkScreenForAnimation();\r\n        }\r\n\r\n\r\n        //Setting Offset Top Value for Windows\r\n        if ((OSName === 'Windows') && parseInt(settingOptions.scrollyWindowsOffsetTop)) {\r\n            settingOptions.scrollyOffsetTop = parseInt(settingOptions.scrollyWindowsOffsetTop);\r\n        }\r\n        //Setting Offset Bottom Value for Windows\r\n        if ((OSName === 'Windows') && parseInt(settingOptions.scrollyWindowsOffsetBottom)) {\r\n            settingOptions.scrollyOffsetBottom = parseInt(settingOptions.scrollyWindowsOffsetBottom);\r\n        }\r\n\r\n        //Setting Offset Top Value for MAC\r\n        if ((OSName === 'Mac') && parseInt(settingOptions.scrollyMacOffsetTop)) {\r\n            settingOptions.scrollyOffsetTop = parseInt(settingOptions.scrollyMacOffsetTop);\r\n        }\r\n        //Setting Offset Bottom Value for MAC\r\n        if ((OSName === 'Mac') && parseInt(settingOptions.scrollyMacOffsetBottom)) {\r\n            settingOptions.scrollyOffsetBottom = parseInt(settingOptions.scrollyMacOffsetBottom);\r\n        }\r\n\r\n        //Setting Offset Top Value for Mobile Or Tab\r\n        if ((parseInt(settingOptions.scrollyMobileOffsetTop)) && ((screenWidth >= parseInt(settingOptions.scrollyScreen.mobile.minWidth)) && (screenWidth <= parseInt(settingOptions.scrollyScreen.mobile.maxWidth)))) {\r\n            settingOptions.scrollyOffsetTop = parseInt(settingOptions.scrollyMobileOffsetTop);\r\n        } else if ((parseInt(settingOptions.scrollyTabOffsetTop)) && ((screenWidth >= parseInt(settingOptions.scrollyScreen.tab.minWidth)) && (screenWidth <= parseInt(settingOptions.scrollyScreen.tab.maxWidth)))) {\r\n            settingOptions.scrollyOffsetTop = parseInt(settingOptions.scrollyTabOffsetTop);\r\n        }\r\n\r\n        //Setting Offset Bottom Value for Mobile Or Tab\r\n        if ((parseInt(settingOptions.scrollyMobileOffsetBottom)) && ((screenWidth >= parseInt(settingOptions.scrollyScreen.mobile.minWidth)) && (screenWidth <= parseInt(settingOptions.scrollyScreen.mobile.maxWidth)))) {\r\n            settingOptions.scrollyOffsetBottom = parseInt(settingOptions.scrollyMobileOffsetBottom);\r\n        } else if ((parseInt(settingOptions.scrollyTabOffsetBottom)) && ((screenWidth >= parseInt(settingOptions.scrollyScreen.tab.minWidth)) && (screenWidth <= parseInt(settingOptions.scrollyScreen.tab.maxWidth)))) {\r\n            settingOptions.scrollyOffsetBottom = parseInt(settingOptions.scrollyTabOffsetBottom);\r\n        }\r\n\r\n\r\n        // Get & Set All Css Animation Click Event Funcition\r\n        var dataInElm = document.querySelectorAll('[' + settingOptions.dataSelectorIn + ']');\r\n        var dataInElmCount = dataInElm.length;\r\n\r\n        // Get & Set All Css Animation Click Event Funcition\r\n        var dataOutElm = document.querySelectorAll('[' + settingOptions.dataSelectorOut + ']');\r\n        var dataOutElmCount = dataOutElm.length;\r\n\r\n\r\n        // Get & Set All Scrolly Animation Click Event with Target Funcition\r\n        var dataScrollyTargetClickElm = document.querySelectorAll('[' + settingOptions.dataScrollyTargetClick + ']');\r\n        var dataScrollyTargetElmCount = dataScrollyTargetClickElm.length;\r\n\r\n        if (dataScrollyTargetElmCount) {\r\n            for (var dataScrollyTargetElmIndex = 0; dataScrollyTargetElmIndex < dataScrollyTargetElmCount; dataScrollyTargetElmIndex++) {\r\n                dataScrollyTargetClickElm[dataScrollyTargetElmIndex].addEventListener(\"click\", scrollyAnimationTarget, true);\r\n                if (!this.hasClass(dataScrollyTargetClickElm[dataScrollyTargetElmIndex], settingOptions.selectorClass)) {\r\n                    dataScrollyTargetClickElm[dataScrollyTargetElmIndex].className += \" \" + settingOptions.selectorClass;\r\n                }\r\n            }\r\n        }\r\n\r\n        var dataScrollyTargetMouseOverElm = document.querySelectorAll('[' + settingOptions.dataScrollyTargetMouseOver + ']');\r\n        var dataScrollyTargetMouseOverElmCount = dataScrollyTargetMouseOverElm.length;\r\n\r\n        if (dataScrollyTargetMouseOverElmCount) {\r\n            for (var dataScrollyTargetMouseOverElmIndex = 0; dataScrollyTargetMouseOverElmIndex < dataScrollyTargetMouseOverElmCount; dataScrollyTargetMouseOverElmIndex++) {\r\n\r\n                dataScrollyTargetMouseOverElm[dataScrollyTargetMouseOverElmIndex].addEventListener(\"mouseover\", scrollyAnimationTarget, true);\r\n\r\n\r\n                if (!this.hasClass(dataScrollyTargetMouseOverElm[dataScrollyTargetMouseOverElmIndex], settingOptions.selectorClass)) {\r\n                    dataScrollyTargetMouseOverElm[dataScrollyTargetMouseOverElmIndex].className += \" \" + settingOptions.selectorClass;\r\n                }\r\n            }\r\n        }\r\n\r\n        var dataScrollyTargetMouseOutElm = document.querySelectorAll('[' + settingOptions.dataScrollyTargetMouseOut + ']');\r\n        var dataScrollyTargetMouseOutElmCount = dataScrollyTargetMouseOutElm.length;\r\n\r\n        if (dataScrollyTargetMouseOutElmCount) {\r\n            for (var dataScrollyTargetElmIndex = 0; dataScrollyTargetElmIndex < dataScrollyTargetMouseOutElmCount; dataScrollyTargetElmIndex++) {\r\n                dataScrollyTargetMouseOutElm[dataScrollyTargetElmIndex].addEventListener(\"mouseout\", scrollyAnimationTarget, true);\r\n                if (!this.hasClass(dataScrollyTargetMouseOutElm[dataScrollyTargetElmIndex], settingOptions.selectorClass)) {\r\n                    dataScrollyTargetMouseOutElm[dataScrollyTargetElmIndex].className += \" \" + settingOptions.selectorClass;\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        // Get & Set All Css Animation Click Event Funcition\r\n        var clickElm = document.querySelectorAll('[' + settingOptions.dataClickElm + ']');\r\n        var clickElmCount = clickElm.length;\r\n\r\n        if (clickElmCount) {\r\n            for (var clickElmIndex = 0; clickElmIndex < clickElmCount; clickElmIndex++) {\r\n                clickElm[clickElmIndex].addEventListener(\"click\", this.cssAnimationClick);\r\n                if (!this.hasClass(clickElm[clickElmIndex], settingOptions.selectorClass)) {\r\n                    clickElm[clickElmIndex].className += \" \" + settingOptions.selectorClass;\r\n                }\r\n            }\r\n        }\r\n\r\n        // Get & Set All Css Animation Click Event Funcition\r\n        var mouseOverElm = document.querySelectorAll('[' + settingOptions.dataMouseoverElm + ']');\r\n        var mouseOverElmCount = mouseOverElm.length;\r\n\r\n        if (mouseOverElmCount) {\r\n            for (var mouseOverElmIndex = 0; mouseOverElmIndex < mouseOverElmCount; mouseOverElmIndex++) {\r\n                mouseOverElm[mouseOverElmIndex].addEventListener(\"mouseover\", this.cssAnimationMouseOver);\r\n                if (!this.hasClass(mouseOverElm[mouseOverElmIndex], settingOptions.selectorClass)) {\r\n                    mouseOverElm[mouseOverElmIndex].className += \" \" + settingOptions.selectorClass;\r\n                }\r\n            }\r\n        }\r\n\r\n        // Get & Set All Css Animation Click Event Funcition\r\n        var mouseOutElm = document.querySelectorAll('[' + settingOptions.dataMouseoutElm + ']');\r\n        var mouseOutElmCount = mouseOutElm.length;\r\n        if (mouseOutElmCount) {\r\n            for (var mouseOutElmCountIndex = 0; mouseOutElmCountIndex < mouseOutElmCount; mouseOutElmCountIndex++) {\r\n                mouseOutElm[mouseOutElmCountIndex].addEventListener(\"mouseout\", this.cssAnimationMouseOut);\r\n\r\n                if (!this.hasClass(mouseOutElm[mouseOutElmCountIndex], settingOptions.selectorClass)) {\r\n                    mouseOutElm[mouseOutElmCountIndex].className += \" \" + settingOptions.selectorClass;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (dataInElmCount) {\r\n            for (var dataInElmCountIndex = 0; dataInElmCountIndex < dataInElmCount; dataInElmCountIndex++) {\r\n                if (!this.hasClass(dataInElm[dataInElmCountIndex], settingOptions.selectorClass)) {\r\n                    dataInElm[dataInElmCountIndex].className += \" \" + settingOptions.selectorClass;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (dataOutElmCount) {\r\n            for (var dataOutElmCountIndex = 0; dataOutElmCountIndex < dataOutElmCount; dataOutElmCountIndex++) {\r\n                if (!this.hasClass(dataOutElm[dataOutElmCountIndex], settingOptions.selectorClass)) {\r\n                    dataOutElm[dataOutElmCountIndex].className += \" \" + settingOptions.selectorClass;\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        // select all animation elements by data attribute\r\n        selector = document.querySelectorAll('.' + settingOptions.selectorClass);\r\n        sCount = selector.length; // selector counter\r\n\r\n        if (sCount) {\r\n            for (var i = 0; i < sCount; i++) {\r\n                animationTagMap[i] = selector[i];\r\n                currentElm = selector[i];\r\n                animationClassMap[i] = '';\r\n                animationInStyleMap[i] = '';\r\n                animationOutStyleMap[i] = '';\r\n                tagStyleMap[i] = '';\r\n                characterAnimateInClassMap[i] = '';\r\n                characterAnimateOutClassMap[i] = '';\r\n\r\n                if (settingOptions.scrollyAnimationCssRemove) {\r\n                    selector[i].setAttribute(settingOptions.dataScrollyIndex, i);\r\n                    // add Event Listener for animation end after call cssAnimationEnd function\r\n                    var thisElm = selector[i];\r\n                    thisElm.addEventListener(\"webkitAnimationEnd\", cssAnimtionEnd, false);\r\n                    thisElm.addEventListener(\"animationend\", cssAnimtionEnd, false);\r\n                    thisElm.addEventListener(\"oanimationend\", cssAnimtionEnd, false);\r\n                }\r\n\r\n                // get inline style\r\n                var getInlineStyle = selector[i].getAttribute('style');\r\n                if (getInlineStyle) {\r\n                    tagStyleMap[i] = getInlineStyle;\r\n                }\r\n\r\n                // make animation in css\r\n                var attrClass = selector[i].getAttribute('class');\r\n                if (attrClass) {\r\n                    animationClassMap[i] = attrClass;\r\n                }\r\n\r\n\r\n                var attrDataCharacterAnimate = selector[i].getAttribute(settingOptions.dataCharacterAnimate);\r\n\r\n                if (attrDataCharacterAnimate) {\r\n                    var innerText = selector[i].textContent.trim();\r\n                    var attr_value = attrDataCharacterAnimate.trim().replace(/\\s/g, \"\");\r\n                    var behaves = attr_value.split(\",\");\r\n                    var delay = 150;\r\n                    var randomly = false;\r\n\r\n                    var charecterAttrInData = selector[i].getAttribute(settingOptions.dataSelectorIn);\r\n                    var charecterAttrOutData = selector[i].getAttribute(settingOptions.dataSelectorOut);\r\n\r\n                    if (charecterAttrInData) {\r\n                        characterAnimateInClassMap[i] = ' ' + charecterAttrInData + ' ';\r\n                    }\r\n\r\n                    if (charecterAttrOutData) {\r\n                        characterAnimateOutClassMap[i] = ' ' + charecterAttrOutData + ' ';\r\n                    }\r\n\r\n\r\n                    for (var bl = 0; bl < behaves.length; bl++) {\r\n                        var splitDataValue = behaves[bl].trim();\r\n                        var behave = splitDataValue.split(\":\");\r\n                        if (behave[0] == 'delay') {\r\n                            delay = behave[1];\r\n                        } else if (behave[0] == 'randomly') {\r\n                            randomly = true;\r\n                        }\r\n                    }\r\n\r\n\r\n                    var seq = [];\r\n                    for (var al = 0; al < innerText.length; al++) {\r\n                        seq[al] = al;\r\n                    }\r\n\r\n                    if (randomly) {\r\n                        seq = this.shuffle(seq);\r\n                    }\r\n\r\n                    var index = 0;\r\n                    var new_str = '';\r\n                    for (var j = 0; j < innerText.length; j++) {\r\n                        var str = innerText[j];\r\n                        if (str != \" \") {\r\n                            var ad = delay * seq[index];\r\n                            index++;\r\n                            var newIndex = i + '-ca-' + j;\r\n                            var styleCss = ' display: inline-block; animation-fill-mode: both; -webkit-animation-duration:1s; -webkit-animation-delay:' + ad + 'ms; ';\r\n                            str = '<span style=\"' + styleCss + '\" >' + str + '</span>';\r\n                        }\r\n                        new_str += str;\r\n                    }\r\n\r\n                    selector[i].innerHTML = new_str;\r\n                } else {\r\n\r\n                    // make animation in css\r\n                    var attrInData = selector[i].getAttribute(settingOptions.dataSelectorIn);\r\n                    if (attrInData) {\r\n                        animationInStyleMap[i] = this.makeStyle(attrInData, 'topToBottom');\r\n                        selector[i].removeAttribute(settingOptions.dataSelectorIn);\r\n                    }\r\n\r\n                    // make animation out css\r\n                    var attrOutData = selector[i].getAttribute(settingOptions.dataSelectorOut);\r\n                    if (attrOutData) {\r\n                        animationOutStyleMap[i] = this.makeStyle(attrOutData, 'bottomToTop');\r\n                        selector[i].removeAttribute(settingOptions.dataSelectorOut);\r\n                    }\r\n                }\r\n                this.clearStyle(i);\r\n            }\r\n\r\n            animationStart();\r\n        }\r\n\r\n        // detect scroll and animation start\r\n        window.onscroll = function() {\r\n            animationStart();\r\n        };\r\n\r\n        window.addEventListener('resize', function() {\r\n            this.checkScreenForAnimation();\r\n        });\r\n    };\r\n\r\n    // make a random array\r\n    this.shuffle = function(array) {\r\n        var i = array.length,\r\n            j = 0,\r\n            temp;\r\n        while (i--) {\r\n            j = Math.floor(Math.random() * (i + 1));\r\n            temp = array[i];\r\n            array[i] = array[j];\r\n            array[j] = temp;\r\n        }\r\n        return array;\r\n    };\r\n\r\n    var dataScrollyInDelayTimer = false;\r\n    var dataScrollyOutDelayTimer = false;\r\n\r\n    // show the element and css animation which is in active window\r\n    this.showElement = function(elmIndex) {\r\n        if (this.isHidden(selector[elmIndex])) {\r\n            var isCharacterAnimate = selector[elmIndex].getAttribute(settingOptions.dataCharacterAnimate);\r\n            if (topToBottom) {\r\n                // delay element show\r\n                if (selector[elmIndex].getAttribute(settingOptions.dataScrollyOutDelay)) {\r\n                    var timeInTime = parseFloat(selector[elmIndex].getAttribute(settingOptions.dataScrollyOutDelay)) * 1000;\r\n                    if (dataScrollyOutDelayTimer) {\r\n                        clearTimeout(dataScrollyOutDelayTimer);\r\n                        dataScrollyOutDelayTimer = false;\r\n                    }\r\n                    dataScrollyInDelayTimer = setTimeout(function() {\r\n                        if (isCharacterAnimate) {\r\n                            selector[elmIndex].style.cssText = displayCss + tagStyleMap[elmIndex] + characterCss;\r\n                            if (!this.hasClass(selector[elmIndex], characterAnimateInClassMap[elmIndex])) {\r\n                                selector[elmIndex].className += characterAnimateInClassMap[elmIndex];\r\n                            }\r\n                        } else {\r\n                            selector[elmIndex].style.cssText = animationOutStyleMap[elmIndex] + tagStyleMap[elmIndex];\r\n                        }\r\n                        selector[elmIndex].style.visibility = 'visible';\r\n                    }, timeInTime);\r\n                } else {\r\n                    if (isCharacterAnimate) {\r\n                        selector[elmIndex].style.cssText = displayCss + tagStyleMap[elmIndex] + characterCss;\r\n                        if (!this.hasClass(selector[elmIndex], characterAnimateInClassMap[elmIndex])) {\r\n                            selector[elmIndex].className += characterAnimateInClassMap[elmIndex];\r\n                        }\r\n                    } else {\r\n                        selector[elmIndex].style.cssText = displayCss + animationOutStyleMap[elmIndex] + tagStyleMap[elmIndex];\r\n                    }\r\n                    selector[elmIndex].style.visibility = 'visible';\r\n                }\r\n            } else {\r\n                // delay element show\r\n                if (selector[elmIndex].getAttribute(settingOptions.dataScrollyInDelay)) {\r\n                    var timeOutTime = parseFloat(selector[elmIndex].getAttribute(settingOptions.dataScrollyInDelay)) * 1000;\r\n                    if (dataScrollyInDelayTimer) {\r\n                        clearTimeout(dataScrollyInDelayTimer);\r\n                        dataScrollyInDelayTimer = false;\r\n                    }\r\n                    dataScrollyOutDelayTimer = setTimeout(function() {\r\n                        if (isCharacterAnimate) {\r\n                            selector[elmIndex].style.cssText = displayCss + tagStyleMap[elmIndex] + characterCss;\r\n                            if (!this.hasClass(selector[elmIndex], characterAnimateOutClassMap[elmIndex])) {\r\n                                selector[elmIndex].className += characterAnimateOutClassMap[elmIndex];\r\n                            }\r\n                        } else {\r\n                            selector[elmIndex].style.cssText = animationInStyleMap[elmIndex] + tagStyleMap[elmIndex];\r\n                        }\r\n                        selector[elmIndex].style.visibility = 'visible';\r\n                    }, timeOutTime);\r\n                } else {\r\n                    if (isCharacterAnimate) {\r\n                        selector[elmIndex].style.cssText = displayCss + tagStyleMap[elmIndex] + characterCss;\r\n                        if (!this.hasClass(selector[elmIndex], characterAnimateOutClassMap[elmIndex])) {\r\n                            selector[elmIndex].className += characterAnimateOutClassMap[elmIndex];\r\n                        }\r\n                    } else {\r\n                        selector[elmIndex].style.cssText = displayCss + animationInStyleMap[elmIndex] + tagStyleMap[elmIndex];\r\n                    }\r\n                    selector[elmIndex].style.visibility = 'visible';\r\n                }\r\n            }\r\n        }\r\n\r\n    };\r\n\r\n    this.resetWindow = function() {\r\n        if (sCount) {\r\n            for (var i = 0; i < sCount; i++) {\r\n                selector[i].style.cssText = tagStyleMap[i];\r\n            }\r\n        }\r\n    };\r\n\r\n    // hide the element and style remove which is not in active window\r\n    this.clearStyle = function(elmIndex) {\r\n        var isCharacterAnimate = selector[elmIndex].getAttribute(settingOptions.dataCharacterAnimate);\r\n        selector[elmIndex].style.cssText = hiddenCss;\r\n        if (isCharacterAnimate) {\r\n            selector[elmIndex].className = 'scrolly ' + animationClassMap[elmIndex];\r\n        }\r\n    };\r\n\r\n    this.getScroll = function() {\r\n        if (window.pageYOffset != undefined) {\r\n            return pageYOffset;\r\n        } else {\r\n            var sx, sy, d = document,\r\n                r = d.documentElement,\r\n                b = d.body;\r\n            sx = r.scrollLeft || b.scrollLeft || 0;\r\n            sy = r.scrollTop || b.scrollTop || 0;\r\n            return sy;\r\n        }\r\n    };\r\n\r\n    this.offsetTop = function(element) {\r\n        var top;\r\n        while (element.offsetTop === void 0) {\r\n            element = element.parentNode;\r\n        }\r\n        top = element.offsetTop;\r\n        while (element = element.offsetParent) {\r\n            top += element.offsetTop;\r\n        }\r\n        return top;\r\n    };\r\n\r\n    // css animation for Scrolly target event\r\n    var scrollyAnimationTarget = function() {\r\n\r\n        var clickTag = this;\r\n\r\n        var clickTagTarget = clickTag.getAttribute(settingOptions.dataScrollyTargetClick);\r\n\r\n        if (clickTagTarget == null) {\r\n            clickTagTarget = clickTag.getAttribute(settingOptions.dataScrollyTargetMouseOver);\r\n        }\r\n\r\n        if (clickTagTarget == null) {\r\n            clickTagTarget = clickTag.getAttribute(settingOptions.dataScrollyTargetMouseOut);\r\n        }\r\n\r\n        var dataScrollyTargetElm = document.querySelector('[' + settingOptions.dataScrollySelector + '=' + clickTagTarget + ']');\r\n\r\n        var thisElm = dataScrollyTargetElm;\r\n        var clickEvnCssName = clickTag.getAttribute(settingOptions.dataScrollyAnimation);\r\n\r\n\r\n        var thisAttrStyle = thisElm.getAttribute('style');\r\n        thisElm.removeAttribute('style');\r\n        if (!thisAttrStyle) {\r\n            thisAttrStyle = '';\r\n        }\r\n\r\n\r\n        if (thisElm.getAttribute(settingOptions.dataScrollyIndex) === null) {\r\n            var tagStyleMapSizeIndex = parseInt(Object.size(tagStyleMap)) + 1;\r\n            thisElm.setAttribute(settingOptions.dataScrollyIndex, tagStyleMapSizeIndex);\r\n            tagStyleMap[tagStyleMapSizeIndex] = thisAttrStyle;\r\n\r\n            thisElm.addEventListener(\"webkitAnimationEnd\", cssAnimtionEnd, false);\r\n            thisElm.addEventListener(\"animationend\", cssAnimtionEnd, false);\r\n            thisElm.addEventListener(\"oanimationend\", cssAnimtionEnd, false);\r\n        }\r\n\r\n\r\n        setTimeout(function() {\r\n            thisElm.style.cssText = thisAttrStyle + defaultClickCss + ' animation-name: ' + clickEvnCssName + ';';\r\n        }, 0);\r\n\r\n\r\n    };\r\n\r\n    // get object length\r\n    Object.size = function(obj) {\r\n        var size = 0,\r\n            key;\r\n        for (key in obj) {\r\n            if (obj.hasOwnProperty(key)) size++;\r\n        }\r\n        return size;\r\n    };\r\n\r\n\r\n    // remove animation style from inline style and set tag inline style\r\n    this.cssAnimtionEnd = function() {\r\n        var thisTag = this;\r\n        var thisIndex = parseInt(thisTag.getAttribute(settingOptions.dataScrollyIndex));\r\n        thisTag.removeAttribute('style');\r\n        if (thisIndex && (tagStyleMap[thisIndex] !== '')) {\r\n            thisTag.style.cssText = tagStyleMap[thisIndex];\r\n        }\r\n    };\r\n\r\n    // css animation for click\r\n    this.cssAnimationClick = function() {\r\n        var clickTag = this;\r\n        var clickEvnCssName = clickTag.getAttribute(settingOptions.dataClickElm).trim();\r\n        clickTag.removeAttribute('style');\r\n        setTimeout(function() {\r\n            clickTag.style.cssText = defaultClickCss + ' animation-name: ' + clickEvnCssName + ';';\r\n        }, 0);\r\n    };\r\n\r\n    // css animation for mouseover\r\n    this.cssAnimationMouseOver = function() {\r\n        var clickTag = this;\r\n        var clickEvnCssName = clickTag.getAttribute(settingOptions.dataMouseoverElm).trim();\r\n        clickTag.removeAttribute('style');\r\n        setTimeout(function() {\r\n            clickTag.style.cssText = defaultClickCss + ' animation-name: ' + clickEvnCssName + ';';\r\n        }, 0);\r\n    };\r\n\r\n    // css animation for mouseout\r\n    this.cssAnimationMouseOut = function() {\r\n        var clickTag = this;\r\n        var clickEvnCssName = clickTag.getAttribute(settingOptions.dataMouseoutElm).trim();\r\n        clickTag.removeAttribute('style');\r\n        setTimeout(function() {\r\n            clickTag.style.cssText = defaultClickCss + ' animation-name: ' + clickEvnCssName + ';';\r\n        }, 0);\r\n    };\r\n}());"],"names":["OSName","window","navigator","userAgent","indexOf","isIE","match","currentElm","lastScrollTop","topToBottom","animationClassMap","animationInStyleMap","animationOutStyleMap","tagStyleMap","characterAnimateInClassMap","characterAnimateOutClassMap","hiddenCss","characterCss","displayCss","defaultClickCss","settingOptions","selectorClass","dataClickElm","dataMouseoverElm","dataMouseoutElm","dataSelectorIn","dataSelectorOut","dataScrollyInDelay","dataScrollyOutDelay","dataScrollyOffsetTop","dataScrollyOffsetBottom","dataCharacterAnimate","dataScrollyIndex","dataScrollyTargetClick","dataScrollyTargetMouseOver","dataScrollyTargetMouseOut","dataScrollySelector","dataScrollyAnimation","scrollyOffsetTop","scrollyOffsetBottom","scrollyMacOffsetTop","scrollyMacOffsetBottom","scrollyWindowsOffsetTop","scrollyWindowsOffsetBottom","scrollyTabOffsetTop","scrollyTabOffsetBottom","scrollyMobileOffsetTop","scrollyMobileOffsetBottom","scrollyDisable","scrollyAnimationCssRemove","scrollyScreen","mobile","minWidth","maxWidth","tab","desktop","lgDesktop","scrollyStopIt","this","isInView","box","bottom","top","viewBottom","viewTop","pageYOffset","innerHeight","offsetTop","clientHeight","attrDataScrollyOffsetTop","getAttribute","parseInt","attrDataScrollyOffsetBottom","makeStyle","data","direction","animationCss","splitData","trim","split","i","length","splitDataValue","splitDataValueSplit","cssProperty","cssValue","setAttribute","isHidden","elm","animationStart","sCount","currentScrollTop","document","documentElement","scrollTop","selector","showElement","clearStyle","hasClass","element","cls","className","screenWidth","screen","width","checkScreenForAnimation","resetWindow","initOptions","custom","defaults","key","value","scrolly","options","dataInElm","querySelectorAll","dataInElmCount","dataOutElm","dataOutElmCount","dataScrollyTargetClickElm","dataScrollyTargetElmCount","dataScrollyTargetElmIndex","addEventListener","scrollyAnimationTarget","dataScrollyTargetMouseOverElm","dataScrollyTargetMouseOverElmCount","dataScrollyTargetMouseOverElmIndex","dataScrollyTargetMouseOutElm","dataScrollyTargetMouseOutElmCount","clickElm","clickElmCount","clickElmIndex","cssAnimationClick","mouseOverElm","mouseOverElmCount","mouseOverElmIndex","cssAnimationMouseOver","mouseOutElm","mouseOutElmCount","mouseOutElmCountIndex","cssAnimationMouseOut","dataInElmCountIndex","dataOutElmCountIndex","thisElm","cssAnimtionEnd","getInlineStyle","attrClass","attrDataCharacterAnimate","innerText","textContent","behaves","replace","delay","randomly","charecterAttrInData","charecterAttrOutData","bl","behave","seq","al","shuffle","index","new_str","j","str","ad","innerHTML","attrInData","removeAttribute","attrOutData","onscroll","array","temp","Math","floor","random","dataScrollyInDelayTimer","dataScrollyOutDelayTimer","elmIndex","isCharacterAnimate","timeInTime","parseFloat","clearTimeout","setTimeout","style","cssText","visibility","timeOutTime","getScroll","d","r","b","body","scrollLeft","parentNode","offsetParent","clickTag","clickTagTarget","querySelector","clickEvnCssName","thisAttrStyle","tagStyleMapSizeIndex","Object","size","obj","hasOwnProperty","thisTag","thisIndex"],"mappings":"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"}