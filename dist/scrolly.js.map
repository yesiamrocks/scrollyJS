{"version":3,"file":"scrolly.js","sources":["../src/scrolly.js"],"sourcesContent":["/**\r\n * scrolly.js\r\n * Current Version: 1.0.1\r\n * http://www.scrollyjs.com\r\n * Github: https://github.com/yesiamrocks/scrolly.js\r\n * Copyright (c) 2017 Pavel\r\n * License: scrolly.js is licensed under the MIT license\r\n **/\r\n\r\n(function() {\r\n\r\n    var OSName = \"Unknown\";\r\n    if (window.navigator.userAgent.indexOf(\"Windows\") != -1) OSName = \"Windows\";\r\n    else if (window.navigator.userAgent.indexOf(\"Mac\") != -1) OSName = \"Mac\";\r\n    //else if (window.navigator.userAgent.indexOf(\"X11\")            != -1) OSName=\"UNIX\";\r\n    //else if (window.navigator.userAgent.indexOf(\"Linux\")          != -1) OSName=\"Linux\";\r\n\r\n    // checking browser is Internet Explore\r\n    var isIE = !!navigator.userAgent.match(/Trident/g) || !!navigator.userAgent.match(/MSIE/g);\r\n    // define global variable\r\n    var currentElm = '';\r\n    var lastScrollTop = 0;\r\n    var topToBottom = true;\r\n    var animationTagMap = {};\r\n    var animationClassMap = {};\r\n    var animationInStyleMap = {};\r\n    var animationOutStyleMap = {};\r\n    var tagStyleMap = {};\r\n    var characterAnimateInClassMap = {};\r\n    var characterAnimateOutClassMap = {};\r\n    var hiddenCss = 'visibility: hidden;';\r\n    var characterCss = 'animation-fill-mode: both;';\r\n    var displayCss = ' -webkit-animation-fill-mode: both; visibility: visible;';\r\n    var defaultClickCss = ' visibility: visible; -webkit-animation-duration: 1s; display:block;-webkit-animation-fill-mode: both; ';\r\n\r\n    var settingOptions = {\r\n        selectorClass: 'scrolly',\r\n        dataClickElm: 'data-scrolly-click',\r\n        dataMouseoverElm: 'data-scrolly-mouseover',\r\n        dataMouseoutElm: 'data-scrolly-mouseout',\r\n        dataSelectorIn: 'data-scrolly-top',\r\n        dataSelectorOut: 'data-scrolly-down',\r\n        dataScrollyInDelay: 'data-scrolly-top-delay',\r\n        dataScrollyOutDelay: 'data-scrolly-down-delay',\r\n        dataScrollyOffsetTop: 'data-scrolly-offset-top',\r\n        dataScrollyOffsetBottom: 'data-scrolly-offset-bottom',\r\n        dataCharacterAnimate: 'data-scrolly-characters',\r\n        dataScrollyIndex: 'data-scrolly-index',\r\n\r\n        // Scrolly target event settings\r\n        dataScrollyTargetClick: 'data-scrolly-target-click',\r\n        dataScrollyTargetMouseOver: 'data-scrolly-target-mouseover',\r\n        dataScrollyTargetMouseOut: 'data-scrolly-target-mouseout',\r\n        dataScrollySelector: 'data-scrolly-selector',\r\n        dataScrollyAnimation: 'data-scrolly-animation',\r\n\r\n        /****** settingOptins for resize view screen  ******/\r\n\r\n        scrollyOffsetTop: 0, //Setting Default Offset Top Value\r\n        scrollyOffsetBottom: 0, //Setting Default Offset Bottom Value\r\n\r\n        /****** settingOptins for resize view screen depend on OS  ******/\r\n        scrollyMacOffsetTop: 0, //Setting Offset Top Value for MAC\r\n        scrollyMacOffsetBottom: 0, //Setting Offset Bottom Value for MAC\r\n        scrollyWindowsOffsetTop: 0, //Setting Offset Top Value for Windows\r\n        scrollyWindowsOffsetBottom: 0, //Setting Offset Bottom Value for Windows\r\n\r\n        scrollyTabOffsetTop: 0, //Setting Offset Top Value for Tab\r\n        scrollyTabOffsetBottom: 0, //Setting Offset Bottom Value for Tab\r\n\r\n        scrollyMobileOffsetTop: 0, //Setting Offset Top Value for Mobile\r\n        scrollyMobileOffsetBottom: 0, //Setting Offset Bottom Value for Mobile\r\n\r\n        scrollyDisable: false, //There are several options that you can use to disable scrolly on certains devices.\r\n        scrollyAnimationCssRemove: false, // scrolly animation css remove from html tag if its true\r\n\r\n        /****** default screen resulation work across multiple devices  ******/\r\n        scrollyScreen: {\r\n            mobile: {\r\n                minWidth: 0,\r\n                maxWidth: 767\r\n            },\r\n            tab: {\r\n                minWidth: 768,\r\n                maxWidth: 991\r\n            },\r\n            desktop: {\r\n                minWidth: 992,\r\n                maxWidth: 1200\r\n            },\r\n            lgDesktop: {\r\n                minWidth: 1201,\r\n                maxWidth: 10000\r\n            }\r\n        },\r\n\r\n        scrollyStopIt: {\r\n            mobile: false,\r\n            tab: false,\r\n            desktop: false,\r\n            lgDesktop: false\r\n        }\r\n    };\r\n\r\n    this.isInView = function(box) {\r\n        var bottom, top, viewBottom, viewTop;\r\n        viewTop = window.pageYOffset;\r\n        viewBottom = viewTop + window.innerHeight;\r\n        top = this.offsetTop(box);\r\n        bottom = top + box.clientHeight;\r\n\r\n        // dataScrollyOffsetTop using for indivisual offset from Top\r\n        var attrDataScrollyOffsetTop = box.getAttribute(settingOptions.dataScrollyOffsetTop);\r\n        if (attrDataScrollyOffsetTop) {\r\n            viewTop += parseInt(attrDataScrollyOffsetTop);\r\n        } else if (parseInt(settingOptions.scrollyOffsetTop)) { // Setting Default Offset Top Value\r\n            viewTop += parseInt(settingOptions.scrollyOffsetTop);\r\n        }\r\n\r\n        // dataScrollyOffsetBottom using for indivisual offset from Bottom\r\n        var attrDataScrollyOffsetBottom = box.getAttribute(settingOptions.dataScrollyOffsetBottom);\r\n\r\n        if (attrDataScrollyOffsetBottom) {\r\n            viewBottom -= parseInt(attrDataScrollyOffsetBottom);\r\n        } else if (parseInt(settingOptions.scrollyOffsetBottom)) { // Setting Default Offset Top Value\r\n            viewBottom -= parseInt(settingOptions.scrollyOffsetBottom);\r\n        }\r\n\r\n        return top <= viewBottom && bottom >= viewTop;\r\n    };\r\n\r\n    if (isIE) {\r\n        defaultClickCss = 'visibility: visible; animation-duration: 1s;';\r\n    }\r\n\r\n    // Make Style which is written in data-attribute\r\n    this.makeStyle = function(data, direction) {\r\n        var animationCss = '';\r\n        if ((data !== null) && (data !== '')) {\r\n            var splitData = data.trim().split(\",\");\r\n\r\n            animationCss = displayCss;\r\n\r\n            if (isIE) {\r\n                animationCss += ' animation-duration: 1s; ';\r\n            } else {\r\n                animationCss += ' -webkit-animation-duration: 1s; ';\r\n            }\r\n\r\n            for (var i = 0; i < splitData.length; i++) {\r\n                var splitDataValue = splitData[i].trim();\r\n                var splitDataValueSplit = splitDataValue.split(\":\");\r\n\r\n                if (splitDataValueSplit.length === 2) {\r\n                    var cssProperty = 'animation-' + (splitDataValueSplit[0]).trim();\r\n                    var cssValue = (splitDataValueSplit[1]).trim();\r\n                } else {\r\n                    var cssProperty = \"animation-name\";\r\n                    var cssValue = splitDataValue;\r\n                }\r\n\r\n                if (isIE) {\r\n                    animationCss += cssProperty + ':' + cssValue + '; ';\r\n                } else {\r\n                    if (cssProperty == 'animation-delay') {\r\n\r\n                        animationCss += hiddenCss;\r\n                        if (direction === 'topToBottom') {\r\n                            currentElm.setAttribute(settingOptions.dataScrollyInDelay, cssValue);\r\n                        } else if (direction === 'bottomToTop') {\r\n                            currentElm.setAttribute(settingOptions.dataScrollyOutDelay, cssValue);\r\n                        }\r\n\r\n                    } else {\r\n                        animationCss += ' -webkit-' + cssProperty.trim() + ':' + cssValue + '; ';\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return animationCss;\r\n    };\r\n\r\n    // checking element is in active window\r\n    this.isHidden = function(elm) {\r\n        if ((elm.getAttribute(\"style\") !== null) && (elm.getAttribute(\"style\").trim() == hiddenCss.trim())) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n\r\n\r\n    // checking element is in active window when scrolling\r\n    this.animationStart = function() {\r\n        if (settingOptions.scrollyDisable === true) {\r\n            return 0;\r\n        }\r\n        if (sCount) {\r\n\r\n            var currentScrollTop = window.pageYOffset || document.documentElement.scrollTop;\r\n            if (currentScrollTop >= lastScrollTop) {\r\n                topToBottom = true;\r\n            } else {\r\n                topToBottom = false;\r\n            }\r\n            lastScrollTop = currentScrollTop;\r\n\r\n            for (var i = 0; i < sCount; i++) {\r\n                var inView = this.isInView(selector[i]);\r\n                if (inView) {\r\n                    this.showElement(i);\r\n                } else {\r\n                    this.clearStyle(i);\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    this.hasClass = function(element, cls) {\r\n        return (' ' + element.className + ' ').indexOf(' ' + cls + ' ') > -1;\r\n    };\r\n\r\n\r\n    var selector = {},\r\n        sCount = 0;\r\n    var screenWidth = screen.width;\r\n\r\n    // checkScreenForAnimation for checking for screen resulation\r\n    this.checkScreenForAnimation = function() {\r\n        if ((settingOptions.scrollyStopIt.mobile) && ((screenWidth >= parseInt(settingOptions.scrollyScreen.mobile.minWidth)) && (screenWidth <= parseInt(settingOptions.scrollyScreen.mobile.maxWidth)))) {\r\n            settingOptions.scrollyDisable = true;\r\n            this.resetWindow();\r\n        } else if ((settingOptions.scrollyStopIt.tab) && ((screenWidth >= parseInt(settingOptions.scrollyScreen.tab.minWidth)) && (screenWidth <= parseInt(settingOptions.scrollyScreen.tab.maxWidth)))) {\r\n            settingOptions.scrollyDisable = true;\r\n            this.resetWindow();\r\n        } else if ((settingOptions.scrollyStopIt.desktop) && ((screenWidth >= parseInt(settingOptions.scrollyScreen.desktop.minWidth)) && (screenWidth <= parseInt(settingOptions.scrollyScreen.desktop.maxWidth)))) {\r\n            settingOptions.scrollyDisable = true;\r\n            this.resetWindow();\r\n        } else if ((settingOptions.scrollyStopIt.lgDesktop) && ((screenWidth >= parseInt(settingOptions.scrollyScreen.lgDesktop.minWidth)) && (screenWidth <= parseInt(settingOptions.scrollyScreen.lgDesktop.maxWidth)))) {\r\n            settingOptions.scrollyDisable = true;\r\n            this.resetWindow();\r\n        } else {\r\n            settingOptions.scrollyDisable = false;\r\n        }\r\n    };\r\n\r\n    this.initOptions = function(custom, defaults) {\r\n        var key, value;\r\n        for (key in defaults) {\r\n            value = defaults[key];\r\n            if (custom[key] == null) {\r\n                custom[key] = value;\r\n            }\r\n        }\r\n        return custom;\r\n    };\r\n\r\n\r\n    // Initialize css animation tag and map all event and css style\r\n    this.scrolly = function(options) {\r\n\r\n        if (options) {\r\n            settingOptions = this.initOptions(options, settingOptions);\r\n        }\r\n\r\n        if (settingOptions.scrollyDisable === true) {\r\n            return 0;\r\n        }\r\n\r\n        // scrollyScreen\r\n        if (settingOptions.scrollyStopIt) {\r\n            this.checkScreenForAnimation();\r\n        }\r\n\r\n\r\n        //Setting Offset Top Value for Windows\r\n        if ((OSName === 'Windows') && parseInt(settingOptions.scrollyWindowsOffsetTop)) {\r\n            settingOptions.scrollyOffsetTop = parseInt(settingOptions.scrollyWindowsOffsetTop);\r\n        }\r\n        //Setting Offset Bottom Value for Windows\r\n        if ((OSName === 'Windows') && parseInt(settingOptions.scrollyWindowsOffsetBottom)) {\r\n            settingOptions.scrollyOffsetBottom = parseInt(settingOptions.scrollyWindowsOffsetBottom);\r\n        }\r\n\r\n        //Setting Offset Top Value for MAC\r\n        if ((OSName === 'Mac') && parseInt(settingOptions.scrollyMacOffsetTop)) {\r\n            settingOptions.scrollyOffsetTop = parseInt(settingOptions.scrollyMacOffsetTop);\r\n        }\r\n        //Setting Offset Bottom Value for MAC\r\n        if ((OSName === 'Mac') && parseInt(settingOptions.scrollyMacOffsetBottom)) {\r\n            settingOptions.scrollyOffsetBottom = parseInt(settingOptions.scrollyMacOffsetBottom);\r\n        }\r\n\r\n        //Setting Offset Top Value for Mobile Or Tab\r\n        if ((parseInt(settingOptions.scrollyMobileOffsetTop)) && ((screenWidth >= parseInt(settingOptions.scrollyScreen.mobile.minWidth)) && (screenWidth <= parseInt(settingOptions.scrollyScreen.mobile.maxWidth)))) {\r\n            settingOptions.scrollyOffsetTop = parseInt(settingOptions.scrollyMobileOffsetTop);\r\n        } else if ((parseInt(settingOptions.scrollyTabOffsetTop)) && ((screenWidth >= parseInt(settingOptions.scrollyScreen.tab.minWidth)) && (screenWidth <= parseInt(settingOptions.scrollyScreen.tab.maxWidth)))) {\r\n            settingOptions.scrollyOffsetTop = parseInt(settingOptions.scrollyTabOffsetTop);\r\n        }\r\n\r\n        //Setting Offset Bottom Value for Mobile Or Tab\r\n        if ((parseInt(settingOptions.scrollyMobileOffsetBottom)) && ((screenWidth >= parseInt(settingOptions.scrollyScreen.mobile.minWidth)) && (screenWidth <= parseInt(settingOptions.scrollyScreen.mobile.maxWidth)))) {\r\n            settingOptions.scrollyOffsetBottom = parseInt(settingOptions.scrollyMobileOffsetBottom);\r\n        } else if ((parseInt(settingOptions.scrollyTabOffsetBottom)) && ((screenWidth >= parseInt(settingOptions.scrollyScreen.tab.minWidth)) && (screenWidth <= parseInt(settingOptions.scrollyScreen.tab.maxWidth)))) {\r\n            settingOptions.scrollyOffsetBottom = parseInt(settingOptions.scrollyTabOffsetBottom);\r\n        }\r\n\r\n\r\n        // Get & Set All Css Animation Click Event Funcition\r\n        var dataInElm = document.querySelectorAll('[' + settingOptions.dataSelectorIn + ']');\r\n        var dataInElmCount = dataInElm.length;\r\n\r\n        // Get & Set All Css Animation Click Event Funcition\r\n        var dataOutElm = document.querySelectorAll('[' + settingOptions.dataSelectorOut + ']');\r\n        var dataOutElmCount = dataOutElm.length;\r\n\r\n\r\n        // Get & Set All Scrolly Animation Click Event with Target Funcition\r\n        var dataScrollyTargetClickElm = document.querySelectorAll('[' + settingOptions.dataScrollyTargetClick + ']');\r\n        var dataScrollyTargetElmCount = dataScrollyTargetClickElm.length;\r\n\r\n        if (dataScrollyTargetElmCount) {\r\n            for (var dataScrollyTargetElmIndex = 0; dataScrollyTargetElmIndex < dataScrollyTargetElmCount; dataScrollyTargetElmIndex++) {\r\n                dataScrollyTargetClickElm[dataScrollyTargetElmIndex].addEventListener(\"click\", scrollyAnimationTarget, true);\r\n                if (!this.hasClass(dataScrollyTargetClickElm[dataScrollyTargetElmIndex], settingOptions.selectorClass)) {\r\n                    dataScrollyTargetClickElm[dataScrollyTargetElmIndex].className += \" \" + settingOptions.selectorClass;\r\n                }\r\n            }\r\n        }\r\n\r\n        var dataScrollyTargetMouseOverElm = document.querySelectorAll('[' + settingOptions.dataScrollyTargetMouseOver + ']');\r\n        var dataScrollyTargetMouseOverElmCount = dataScrollyTargetMouseOverElm.length;\r\n\r\n        if (dataScrollyTargetMouseOverElmCount) {\r\n            for (var dataScrollyTargetMouseOverElmIndex = 0; dataScrollyTargetMouseOverElmIndex < dataScrollyTargetMouseOverElmCount; dataScrollyTargetMouseOverElmIndex++) {\r\n\r\n                dataScrollyTargetMouseOverElm[dataScrollyTargetMouseOverElmIndex].addEventListener(\"mouseover\", scrollyAnimationTarget, true);\r\n\r\n\r\n                if (!this.hasClass(dataScrollyTargetMouseOverElm[dataScrollyTargetMouseOverElmIndex], settingOptions.selectorClass)) {\r\n                    dataScrollyTargetMouseOverElm[dataScrollyTargetMouseOverElmIndex].className += \" \" + settingOptions.selectorClass;\r\n                }\r\n            }\r\n        }\r\n\r\n        var dataScrollyTargetMouseOutElm = document.querySelectorAll('[' + settingOptions.dataScrollyTargetMouseOut + ']');\r\n        var dataScrollyTargetMouseOutElmCount = dataScrollyTargetMouseOutElm.length;\r\n\r\n        if (dataScrollyTargetMouseOutElmCount) {\r\n            for (var dataScrollyTargetElmIndex = 0; dataScrollyTargetElmIndex < dataScrollyTargetMouseOutElmCount; dataScrollyTargetElmIndex++) {\r\n                dataScrollyTargetMouseOutElm[dataScrollyTargetElmIndex].addEventListener(\"mouseout\", scrollyAnimationTarget, true);\r\n                if (!this.hasClass(dataScrollyTargetMouseOutElm[dataScrollyTargetElmIndex], settingOptions.selectorClass)) {\r\n                    dataScrollyTargetMouseOutElm[dataScrollyTargetElmIndex].className += \" \" + settingOptions.selectorClass;\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        // Get & Set All Css Animation Click Event Funcition\r\n        var clickElm = document.querySelectorAll('[' + settingOptions.dataClickElm + ']');\r\n        var clickElmCount = clickElm.length;\r\n\r\n        if (clickElmCount) {\r\n            for (var clickElmIndex = 0; clickElmIndex < clickElmCount; clickElmIndex++) {\r\n                clickElm[clickElmIndex].addEventListener(\"click\", this.cssAnimationClick);\r\n                if (!this.hasClass(clickElm[clickElmIndex], settingOptions.selectorClass)) {\r\n                    clickElm[clickElmIndex].className += \" \" + settingOptions.selectorClass;\r\n                }\r\n            }\r\n        }\r\n\r\n        // Get & Set All Css Animation Click Event Funcition\r\n        var mouseOverElm = document.querySelectorAll('[' + settingOptions.dataMouseoverElm + ']');\r\n        var mouseOverElmCount = mouseOverElm.length;\r\n\r\n        if (mouseOverElmCount) {\r\n            for (var mouseOverElmIndex = 0; mouseOverElmIndex < mouseOverElmCount; mouseOverElmIndex++) {\r\n                mouseOverElm[mouseOverElmIndex].addEventListener(\"mouseover\", this.cssAnimationMouseOver);\r\n                if (!this.hasClass(mouseOverElm[mouseOverElmIndex], settingOptions.selectorClass)) {\r\n                    mouseOverElm[mouseOverElmIndex].className += \" \" + settingOptions.selectorClass;\r\n                }\r\n            }\r\n        }\r\n\r\n        // Get & Set All Css Animation Click Event Funcition\r\n        var mouseOutElm = document.querySelectorAll('[' + settingOptions.dataMouseoutElm + ']');\r\n        var mouseOutElmCount = mouseOutElm.length;\r\n        if (mouseOutElmCount) {\r\n            for (var mouseOutElmCountIndex = 0; mouseOutElmCountIndex < mouseOutElmCount; mouseOutElmCountIndex++) {\r\n                mouseOutElm[mouseOutElmCountIndex].addEventListener(\"mouseout\", this.cssAnimationMouseOut);\r\n\r\n                if (!this.hasClass(mouseOutElm[mouseOutElmCountIndex], settingOptions.selectorClass)) {\r\n                    mouseOutElm[mouseOutElmCountIndex].className += \" \" + settingOptions.selectorClass;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (dataInElmCount) {\r\n            for (var dataInElmCountIndex = 0; dataInElmCountIndex < dataInElmCount; dataInElmCountIndex++) {\r\n                if (!this.hasClass(dataInElm[dataInElmCountIndex], settingOptions.selectorClass)) {\r\n                    dataInElm[dataInElmCountIndex].className += \" \" + settingOptions.selectorClass;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (dataOutElmCount) {\r\n            for (var dataOutElmCountIndex = 0; dataOutElmCountIndex < dataOutElmCount; dataOutElmCountIndex++) {\r\n                if (!this.hasClass(dataOutElm[dataOutElmCountIndex], settingOptions.selectorClass)) {\r\n                    dataOutElm[dataOutElmCountIndex].className += \" \" + settingOptions.selectorClass;\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        // select all animation elements by data attribute\r\n        selector = document.querySelectorAll('.' + settingOptions.selectorClass);\r\n        sCount = selector.length; // selector counter\r\n\r\n        if (sCount) {\r\n            for (var i = 0; i < sCount; i++) {\r\n                animationTagMap[i] = selector[i];\r\n                currentElm = selector[i];\r\n                animationClassMap[i] = '';\r\n                animationInStyleMap[i] = '';\r\n                animationOutStyleMap[i] = '';\r\n                tagStyleMap[i] = '';\r\n                characterAnimateInClassMap[i] = '';\r\n                characterAnimateOutClassMap[i] = '';\r\n\r\n                if (settingOptions.scrollyAnimationCssRemove) {\r\n                    selector[i].setAttribute(settingOptions.dataScrollyIndex, i);\r\n                    // add Event Listener for animation end after call cssAnimationEnd function\r\n                    var thisElm = selector[i];\r\n                    thisElm.addEventListener(\"webkitAnimationEnd\", cssAnimtionEnd, false);\r\n                    thisElm.addEventListener(\"animationend\", cssAnimtionEnd, false);\r\n                    thisElm.addEventListener(\"oanimationend\", cssAnimtionEnd, false);\r\n                }\r\n\r\n                // get inline style\r\n                var getInlineStyle = selector[i].getAttribute('style');\r\n                if (getInlineStyle) {\r\n                    tagStyleMap[i] = getInlineStyle;\r\n                }\r\n\r\n                // make animation in css\r\n                var attrClass = selector[i].getAttribute('class');\r\n                if (attrClass) {\r\n                    animationClassMap[i] = attrClass;\r\n                }\r\n\r\n\r\n                var attrDataCharacterAnimate = selector[i].getAttribute(settingOptions.dataCharacterAnimate);\r\n\r\n                if (attrDataCharacterAnimate) {\r\n                    var innerText = selector[i].textContent.trim();\r\n                    var attr_value = attrDataCharacterAnimate.trim().replace(/\\s/g, \"\");\r\n                    var behaves = attr_value.split(\",\");\r\n                    var delay = 150;\r\n                    var randomly = false;\r\n\r\n                    var charecterAttrInData = selector[i].getAttribute(settingOptions.dataSelectorIn);\r\n                    var charecterAttrOutData = selector[i].getAttribute(settingOptions.dataSelectorOut);\r\n\r\n                    if (charecterAttrInData) {\r\n                        characterAnimateInClassMap[i] = ' ' + charecterAttrInData + ' ';\r\n                    }\r\n\r\n                    if (charecterAttrOutData) {\r\n                        characterAnimateOutClassMap[i] = ' ' + charecterAttrOutData + ' ';\r\n                    }\r\n\r\n\r\n                    for (var bl = 0; bl < behaves.length; bl++) {\r\n                        var splitDataValue = behaves[bl].trim();\r\n                        var behave = splitDataValue.split(\":\");\r\n                        if (behave[0] == 'delay') {\r\n                            delay = behave[1];\r\n                        } else if (behave[0] == 'randomly') {\r\n                            randomly = true;\r\n                        }\r\n                    }\r\n\r\n\r\n                    var seq = [];\r\n                    for (var al = 0; al < innerText.length; al++) {\r\n                        seq[al] = al;\r\n                    }\r\n\r\n                    if (randomly) {\r\n                        seq = this.shuffle(seq);\r\n                    }\r\n\r\n                    var index = 0;\r\n                    var new_str = '';\r\n                    for (var j = 0; j < innerText.length; j++) {\r\n                        var str = innerText[j];\r\n                        if (str != \" \") {\r\n                            var ad = delay * seq[index];\r\n                            index++;\r\n                            var newIndex = i + '-ca-' + j;\r\n                            var styleCss = ' display: inline-block; animation-fill-mode: both; -webkit-animation-duration:1s; -webkit-animation-delay:' + ad + 'ms; ';\r\n                            str = '<span style=\"' + styleCss + '\" >' + str + '</span>';\r\n                        }\r\n                        new_str += str;\r\n                    }\r\n\r\n                    selector[i].innerHTML = new_str;\r\n                } else {\r\n\r\n                    // make animation in css\r\n                    var attrInData = selector[i].getAttribute(settingOptions.dataSelectorIn);\r\n                    if (attrInData) {\r\n                        animationInStyleMap[i] = this.makeStyle(attrInData, 'topToBottom');\r\n                        selector[i].removeAttribute(settingOptions.dataSelectorIn);\r\n                    }\r\n\r\n                    // make animation out css\r\n                    var attrOutData = selector[i].getAttribute(settingOptions.dataSelectorOut);\r\n                    if (attrOutData) {\r\n                        animationOutStyleMap[i] = this.makeStyle(attrOutData, 'bottomToTop');\r\n                        selector[i].removeAttribute(settingOptions.dataSelectorOut);\r\n                    }\r\n                }\r\n                this.clearStyle(i);\r\n            }\r\n\r\n            animationStart();\r\n        }\r\n\r\n        // detect scroll and animation start\r\n        window.onscroll = function() {\r\n            animationStart();\r\n        };\r\n\r\n        window.addEventListener('resize', function() {\r\n            this.checkScreenForAnimation();\r\n        });\r\n    };\r\n\r\n    // make a random array\r\n    this.shuffle = function(array) {\r\n        var i = array.length,\r\n            j = 0,\r\n            temp;\r\n        while (i--) {\r\n            j = Math.floor(Math.random() * (i + 1));\r\n            temp = array[i];\r\n            array[i] = array[j];\r\n            array[j] = temp;\r\n        }\r\n        return array;\r\n    };\r\n\r\n    var dataScrollyInDelayTimer = false;\r\n    var dataScrollyOutDelayTimer = false;\r\n\r\n    // show the element and css animation which is in active window\r\n    this.showElement = function(elmIndex) {\r\n        if (this.isHidden(selector[elmIndex])) {\r\n            var isCharacterAnimate = selector[elmIndex].getAttribute(settingOptions.dataCharacterAnimate);\r\n            if (topToBottom) {\r\n                // delay element show\r\n                if (selector[elmIndex].getAttribute(settingOptions.dataScrollyOutDelay)) {\r\n                    var timeInTime = parseFloat(selector[elmIndex].getAttribute(settingOptions.dataScrollyOutDelay)) * 1000;\r\n                    if (dataScrollyOutDelayTimer) {\r\n                        clearTimeout(dataScrollyOutDelayTimer);\r\n                        dataScrollyOutDelayTimer = false;\r\n                    }\r\n                    dataScrollyInDelayTimer = setTimeout(function() {\r\n                        if (isCharacterAnimate) {\r\n                            selector[elmIndex].style.cssText = displayCss + tagStyleMap[elmIndex] + characterCss;\r\n                            if (!this.hasClass(selector[elmIndex], characterAnimateInClassMap[elmIndex])) {\r\n                                selector[elmIndex].className += characterAnimateInClassMap[elmIndex];\r\n                            }\r\n                        } else {\r\n                            selector[elmIndex].style.cssText = animationOutStyleMap[elmIndex] + tagStyleMap[elmIndex];\r\n                        }\r\n                        selector[elmIndex].style.visibility = 'visible';\r\n                    }, timeInTime);\r\n                } else {\r\n                    if (isCharacterAnimate) {\r\n                        selector[elmIndex].style.cssText = displayCss + tagStyleMap[elmIndex] + characterCss;\r\n                        if (!this.hasClass(selector[elmIndex], characterAnimateInClassMap[elmIndex])) {\r\n                            selector[elmIndex].className += characterAnimateInClassMap[elmIndex];\r\n                        }\r\n                    } else {\r\n                        selector[elmIndex].style.cssText = displayCss + animationOutStyleMap[elmIndex] + tagStyleMap[elmIndex];\r\n                    }\r\n                    selector[elmIndex].style.visibility = 'visible';\r\n                }\r\n            } else {\r\n                // delay element show\r\n                if (selector[elmIndex].getAttribute(settingOptions.dataScrollyInDelay)) {\r\n                    var timeOutTime = parseFloat(selector[elmIndex].getAttribute(settingOptions.dataScrollyInDelay)) * 1000;\r\n                    if (dataScrollyInDelayTimer) {\r\n                        clearTimeout(dataScrollyInDelayTimer);\r\n                        dataScrollyInDelayTimer = false;\r\n                    }\r\n                    dataScrollyOutDelayTimer = setTimeout(function() {\r\n                        if (isCharacterAnimate) {\r\n                            selector[elmIndex].style.cssText = displayCss + tagStyleMap[elmIndex] + characterCss;\r\n                            if (!this.hasClass(selector[elmIndex], characterAnimateOutClassMap[elmIndex])) {\r\n                                selector[elmIndex].className += characterAnimateOutClassMap[elmIndex];\r\n                            }\r\n                        } else {\r\n                            selector[elmIndex].style.cssText = animationInStyleMap[elmIndex] + tagStyleMap[elmIndex];\r\n                        }\r\n                        selector[elmIndex].style.visibility = 'visible';\r\n                    }, timeOutTime);\r\n                } else {\r\n                    if (isCharacterAnimate) {\r\n                        selector[elmIndex].style.cssText = displayCss + tagStyleMap[elmIndex] + characterCss;\r\n                        if (!this.hasClass(selector[elmIndex], characterAnimateOutClassMap[elmIndex])) {\r\n                            selector[elmIndex].className += characterAnimateOutClassMap[elmIndex];\r\n                        }\r\n                    } else {\r\n                        selector[elmIndex].style.cssText = displayCss + animationInStyleMap[elmIndex] + tagStyleMap[elmIndex];\r\n                    }\r\n                    selector[elmIndex].style.visibility = 'visible';\r\n                }\r\n            }\r\n        }\r\n\r\n    };\r\n\r\n    this.resetWindow = function() {\r\n        if (sCount) {\r\n            for (var i = 0; i < sCount; i++) {\r\n                selector[i].style.cssText = tagStyleMap[i];\r\n            }\r\n        }\r\n    };\r\n\r\n    // hide the element and style remove which is not in active window\r\n    this.clearStyle = function(elmIndex) {\r\n        var isCharacterAnimate = selector[elmIndex].getAttribute(settingOptions.dataCharacterAnimate);\r\n        selector[elmIndex].style.cssText = hiddenCss;\r\n        if (isCharacterAnimate) {\r\n            selector[elmIndex].className = 'scrolly ' + animationClassMap[elmIndex];\r\n        }\r\n    };\r\n\r\n    this.getScroll = function() {\r\n        if (window.pageYOffset != undefined) {\r\n            return pageYOffset;\r\n        } else {\r\n            var sx, sy, d = document,\r\n                r = d.documentElement,\r\n                b = d.body;\r\n            sx = r.scrollLeft || b.scrollLeft || 0;\r\n            sy = r.scrollTop || b.scrollTop || 0;\r\n            return sy;\r\n        }\r\n    };\r\n\r\n    this.offsetTop = function(element) {\r\n        var top;\r\n        while (element.offsetTop === void 0) {\r\n            element = element.parentNode;\r\n        }\r\n        top = element.offsetTop;\r\n        while (element = element.offsetParent) {\r\n            top += element.offsetTop;\r\n        }\r\n        return top;\r\n    };\r\n\r\n    // css animation for Scrolly target event\r\n    var scrollyAnimationTarget = function() {\r\n\r\n        var clickTag = this;\r\n\r\n        var clickTagTarget = clickTag.getAttribute(settingOptions.dataScrollyTargetClick);\r\n\r\n        if (clickTagTarget == null) {\r\n            clickTagTarget = clickTag.getAttribute(settingOptions.dataScrollyTargetMouseOver);\r\n        }\r\n\r\n        if (clickTagTarget == null) {\r\n            clickTagTarget = clickTag.getAttribute(settingOptions.dataScrollyTargetMouseOut);\r\n        }\r\n\r\n        var dataScrollyTargetElm = document.querySelector('[' + settingOptions.dataScrollySelector + '=' + clickTagTarget + ']');\r\n\r\n        var thisElm = dataScrollyTargetElm;\r\n        var clickEvnCssName = clickTag.getAttribute(settingOptions.dataScrollyAnimation);\r\n\r\n\r\n        var thisAttrStyle = thisElm.getAttribute('style');\r\n        thisElm.removeAttribute('style');\r\n        if (!thisAttrStyle) {\r\n            thisAttrStyle = '';\r\n        }\r\n\r\n\r\n        if (thisElm.getAttribute(settingOptions.dataScrollyIndex) === null) {\r\n            var tagStyleMapSizeIndex = parseInt(Object.size(tagStyleMap)) + 1;\r\n            thisElm.setAttribute(settingOptions.dataScrollyIndex, tagStyleMapSizeIndex);\r\n            tagStyleMap[tagStyleMapSizeIndex] = thisAttrStyle;\r\n\r\n            thisElm.addEventListener(\"webkitAnimationEnd\", cssAnimtionEnd, false);\r\n            thisElm.addEventListener(\"animationend\", cssAnimtionEnd, false);\r\n            thisElm.addEventListener(\"oanimationend\", cssAnimtionEnd, false);\r\n        }\r\n\r\n\r\n        setTimeout(function() {\r\n            thisElm.style.cssText = thisAttrStyle + defaultClickCss + ' animation-name: ' + clickEvnCssName + ';';\r\n        }, 0);\r\n\r\n\r\n    };\r\n\r\n    // get object length\r\n    Object.size = function(obj) {\r\n        var size = 0,\r\n            key;\r\n        for (key in obj) {\r\n            if (obj.hasOwnProperty(key)) size++;\r\n        }\r\n        return size;\r\n    };\r\n\r\n\r\n    // remove animation style from inline style and set tag inline style\r\n    this.cssAnimtionEnd = function() {\r\n        var thisTag = this;\r\n        var thisIndex = parseInt(thisTag.getAttribute(settingOptions.dataScrollyIndex));\r\n        thisTag.removeAttribute('style');\r\n        if (thisIndex && (tagStyleMap[thisIndex] !== '')) {\r\n            thisTag.style.cssText = tagStyleMap[thisIndex];\r\n        }\r\n    };\r\n\r\n    // css animation for click\r\n    this.cssAnimationClick = function() {\r\n        var clickTag = this;\r\n        var clickEvnCssName = clickTag.getAttribute(settingOptions.dataClickElm).trim();\r\n        clickTag.removeAttribute('style');\r\n        setTimeout(function() {\r\n            clickTag.style.cssText = defaultClickCss + ' animation-name: ' + clickEvnCssName + ';';\r\n        }, 0);\r\n    };\r\n\r\n    // css animation for mouseover\r\n    this.cssAnimationMouseOver = function() {\r\n        var clickTag = this;\r\n        var clickEvnCssName = clickTag.getAttribute(settingOptions.dataMouseoverElm).trim();\r\n        clickTag.removeAttribute('style');\r\n        setTimeout(function() {\r\n            clickTag.style.cssText = defaultClickCss + ' animation-name: ' + clickEvnCssName + ';';\r\n        }, 0);\r\n    };\r\n\r\n    // css animation for mouseout\r\n    this.cssAnimationMouseOut = function() {\r\n        var clickTag = this;\r\n        var clickEvnCssName = clickTag.getAttribute(settingOptions.dataMouseoutElm).trim();\r\n        clickTag.removeAttribute('style');\r\n        setTimeout(function() {\r\n            clickTag.style.cssText = defaultClickCss + ' animation-name: ' + clickEvnCssName + ';';\r\n        }, 0);\r\n    };\r\n}());"],"names":[],"mappings":"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"}